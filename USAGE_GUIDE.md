# ä½¿ç”¨æŒ‡å—ï¼šæµ‹è¯•ç”¨ä¾‹ç®¡ç†ä¸Per-URLé…ç½®

## ğŸ‰ æ–°åŠŸèƒ½æ¦‚è¿°

æœ¬æ¬¡æ›´æ–°å®ç°äº†ä¸¤ä¸ªä¸»è¦åŠŸèƒ½ï¼š

1. **æµ‹è¯•ç”¨ä¾‹ä¸æ‰§è¡ŒçŠ¶æ€è§£è€¦** - æµ‹è¯•ç”¨ä¾‹æŒä¹…åŒ–å­˜å‚¨åœ¨æœåŠ¡å™¨ï¼Œæ‰§è¡Œå†å²è‡ªåŠ¨å…³è”
2. **Per-URLé…ç½®æ”¯æŒ** - åŒä¸€æµ‹è¯•ç”¨ä¾‹ä¸­çš„ä¸åŒURLå¯ä»¥ä½¿ç”¨ä¸åŒçš„é…ç½®

---

## ğŸ“š å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœåŠ¡å™¨

```bash
npm run dev
```

æœåŠ¡å™¨å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

### 2. è®¿é—®Webç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:3000`

---

## ğŸ’¾ æµ‹è¯•ç”¨ä¾‹ç®¡ç†

### æ•°æ®å­˜å‚¨ä½ç½®

- **æœåŠ¡å™¨ç«¯**: `testcases.json` - ä¸»å­˜å‚¨ï¼ŒæŒä¹…åŒ–æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹
- **æµè§ˆå™¨ç«¯**: `localStorage` - æœ¬åœ°ç¼“å­˜ï¼Œæå‡åŠ è½½é€Ÿåº¦

### è‡ªåŠ¨åŒæ­¥æœºåˆ¶

1. **é¦–æ¬¡è®¿é—®**ï¼šè‡ªåŠ¨ä»æœåŠ¡å™¨åŠ è½½æµ‹è¯•ç”¨ä¾‹
2. **æœ¬åœ°è¿ç§»**ï¼šå¦‚æœæœåŠ¡å™¨æ— æ•°æ®ï¼Œè‡ªåŠ¨è¿ç§»localStorageæ•°æ®åˆ°æœåŠ¡å™¨
3. **åˆ›å»º/æ›´æ–°**ï¼šè‡ªåŠ¨ä¿å­˜åˆ°æœåŠ¡å™¨å¹¶æ›´æ–°æœ¬åœ°ç¼“å­˜
4. **åˆ é™¤æ“ä½œ**ï¼šåŒæ—¶åˆ é™¤æœåŠ¡å™¨å’Œæœ¬åœ°æ•°æ®

### æµ‹è¯•ç”¨ä¾‹IDæ ¼å¼

- **æ–°æ ¼å¼**ï¼ˆæœåŠ¡å™¨ç”Ÿæˆï¼‰: `testcase_1763696742129_r2w2gzpn`
- **æ—§æ ¼å¼**ï¼ˆæ—¶é—´æˆ³ï¼‰: `1700000000000`

æ–°åˆ›å»ºçš„æµ‹è¯•ç”¨ä¾‹ä½¿ç”¨æ–°æ ¼å¼IDï¼Œæ—§æ•°æ®å…¼å®¹ä¿ç•™ã€‚

---

## ğŸ”§ Per-URLé…ç½®åŠŸèƒ½

### ä½¿ç”¨åœºæ™¯

åœ¨åŒä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œä¸åŒçš„URLå¯èƒ½éœ€è¦ä¸åŒçš„é…ç½®ï¼š

- **åœºæ™¯1**ï¼šæµ‹è¯•ç™»å½•å‰åçš„æ€§èƒ½å·®å¼‚
  - URL1: é¦–é¡µï¼ˆæ¸¸å®¢æ¨¡å¼ï¼Œæ— Cookieï¼‰
  - URL2: é¦–é¡µï¼ˆç™»å½•æ¨¡å¼ï¼Œå¸¦ç”¨æˆ·Cookieï¼‰

- **åœºæ™¯2**ï¼šæµ‹è¯•ä¸åŒè®¾å¤‡çš„æ€§èƒ½
  - URL1: ç§»åŠ¨ç«¯é¡µé¢ï¼ˆMobileè®¾å¤‡é…ç½®ï¼‰
  - URL2: æ¡Œé¢ç«¯é¡µé¢ï¼ˆDesktopè®¾å¤‡é…ç½®ï¼‰

- **åœºæ™¯3**ï¼šæµ‹è¯•å¹¿å‘Šå±è”½çš„å½±å“
  - URL1: æ­£å¸¸é¡µé¢
  - URL2: å±è”½å¹¿å‘Šï¼ˆä½¿ç”¨customCsséšè—å¹¿å‘Šï¼‰

### é…ç½®æ–¹å¼

#### æ–¹å¼1ï¼šé€šè¿‡Webç•Œé¢é…ç½®ï¼ˆæœ€ç®€å•ï¼‰

1. **è®¿é—®Webç•Œé¢**ï¼šæ‰“å¼€ `http://localhost:3000`

2. **åˆ›å»ºæˆ–ç¼–è¾‘æµ‹è¯•ç”¨ä¾‹**ï¼š
   - ç‚¹å‡»"â• æ·»åŠ æµ‹è¯•ç”¨ä¾‹"æŒ‰é’®
   - å¡«å†™åŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€Runnerç±»å‹ç­‰ï¼‰

3. **æ·»åŠ URLå¹¶é…ç½®**ï¼š
   - ç‚¹å‡»"â• æ·»åŠ URL"æŒ‰é’®æ·»åŠ å¤šä¸ªURL
   - æ¯ä¸ªURLéƒ½æœ‰ä¸€ä¸ª"â–¼ ç‹¬ç«‹é…ç½®"æŒ‰é’®
   - ç‚¹å‡»è¯¥æŒ‰é’®å±•å¼€é…ç½®é¢æ¿

4. **ç¼–è¾‘Per-URLé…ç½®**ï¼š
   - **Cookie**ï¼šè¾“å…¥æ­¤URLä¸“ç”¨çš„Cookie
   - **é¡µé¢å»¶è¿Ÿ**ï¼šè®¾ç½®æ­¤URLçš„åŠ è½½å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰
   - **HTTP Headers**ï¼šè¾“å…¥JSONæ ¼å¼çš„è‡ªå®šä¹‰è¯·æ±‚å¤´
   - **è‡ªå®šä¹‰CSS**ï¼šè¾“å…¥CSSä»£ç ï¼ˆå¦‚éšè—å¹¿å‘Šï¼‰
   - **èµ„æºé˜»æ­¢åˆ—è¡¨**ï¼šè¾“å…¥JSONæ•°ç»„æ ¼å¼çš„URLæ¨¡å¼

5. **é…ç½®æŒ‡ç¤º**ï¼š
   - é…ç½®äº†ç‹¬ç«‹è®¾ç½®çš„URLä¼šæ˜¾ç¤ºç»¿è‰²è¾¹æ¡†
   - å³ä¾§æ˜¾ç¤º"âœ“ å·²é…ç½®"å¾½ç« 
   - æœªè®¾ç½®çš„é…ç½®é¡¹ä¼šè‡ªåŠ¨ä½¿ç”¨æµ‹è¯•ç”¨ä¾‹é»˜è®¤é…ç½®

6. **ä¿å­˜æµ‹è¯•ç”¨ä¾‹**ï¼š
   - ç‚¹å‡»"ä¿å­˜"æŒ‰é’®
   - é…ç½®ä¼šè‡ªåŠ¨åŒæ­¥åˆ°æœåŠ¡å™¨

#### æ–¹å¼2ï¼šé€šè¿‡APIåˆ›å»ºï¼ˆç¼–ç¨‹æ–¹å¼ï¼‰

```bash
curl -X POST http://localhost:3000/api/testcases \
  -H "Content-Type: application/json" \
  -d '{
    "name": "é¦–é¡µæ€§èƒ½å¯¹æ¯”ï¼šç™»å½• vs æœªç™»å½•",
    "runners": {
      "Runtime": {
        "enabled": true,
        "durationMs": 60000,
        "delayMs": 10000
      }
    },
    "urlsWithDesc": [
      {
        "url": "https://www.bilibili.com",
        "description": "é¦–é¡µ - æœªç™»å½•ï¼ˆé»˜è®¤é…ç½®ï¼‰"
      },
      {
        "url": "https://www.bilibili.com",
        "description": "é¦–é¡µ - å·²ç™»å½•",
        "config": {
          "cookie": "DedeUserID=123456; SESSDATA=your_session",
          "extraHTTPHeaders": {
            "X-Test-User": "logged-in"
          }
        }
      },
      {
        "url": "https://www.bilibili.com/video/BV1xx411c7mD",
        "description": "è§†é¢‘é¡µ - å±è”½å¹¿å‘Š",
        "config": {
          "cookie": "DedeUserID=123456; SESSDATA=your_session",
          "customCss": ".ad-container { display: none !important; }",
          "blockList": ["*.gif", "*/ad/*"]
        }
      }
    ],
    "mode": "headless",
    "repeatCount": 3,
    "anonymous": false,
    "cpuThrottling": 1,
    "description": "å¯¹æ¯”ä¸åŒé…ç½®ä¸‹çš„é¡µé¢æ€§èƒ½",
    "tags": ["performance", "comparison"],
    "advancedConfig": {
      "delayMs": 3000,
      "cookie": "default_session=guest"
    }
  }'
```

#### æ–¹å¼2ï¼šä¿®æ”¹ç°æœ‰æµ‹è¯•ç”¨ä¾‹ï¼ˆæ‰‹åŠ¨ï¼‰

ç¼–è¾‘ `testcases.json` æ–‡ä»¶ï¼Œåœ¨ `urlsWithDesc` æ•°ç»„ä¸­æ·»åŠ  `config` å­—æ®µï¼š

```json
{
  "urlsWithDesc": [
    {
      "url": "https://example.com/page1",
      "description": "é¡µé¢1",
      "config": {
        "cookie": "custom_cookie=value",
        "delayMs": 5000
      }
    }
  ]
}
```

### æ”¯æŒçš„Per-URLé…ç½®é¡¹

æ‰€æœ‰é…ç½®é¡¹éƒ½æ˜¯**å¯é€‰çš„**ï¼Œæœªé…ç½®çš„é¡¹å°†ä½¿ç”¨æµ‹è¯•ç”¨ä¾‹çº§åˆ«çš„é»˜è®¤é…ç½®ã€‚

| é…ç½®é¡¹ | ç±»å‹ | è¯´æ˜ |
|--------|------|------|
| `cookie` | `string` \| `object` | Cookieå­—ç¬¦ä¸²æˆ–Playwright Cookieå¯¹è±¡ |
| `extraHTTPHeaders` | `object` | è‡ªå®šä¹‰HTTPè¯·æ±‚å¤´ |
| `blockList` | `string[]` | èµ„æºé˜»æ­¢åˆ—è¡¨ï¼ˆæ”¯æŒé€šé…ç¬¦ï¼‰ |
| `customCss` | `string` | è‡ªå®šä¹‰CSSä»£ç  |
| `deviceOptions` | `[string, object]` | è®¾å¤‡é€‰é¡¹ï¼š`['Desktop' \| 'Mobile', options]` |
| `hooks` | `object` | ç”Ÿå‘½å‘¨æœŸé’©å­ |
| `delayMs` | `number` | é¡µé¢åŠ è½½å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰ |

### é…ç½®ä¼˜å…ˆçº§

```
Per-URL Config > Global Config > Advanced Config
```

**ç¤ºä¾‹**ï¼š

```javascript
// æµ‹è¯•ç”¨ä¾‹é»˜è®¤é…ç½®
{
  "advancedConfig": {
    "cookie": "default_cookie=guest",
    "delayMs": 3000
  }
}

// URLç‹¬ç«‹é…ç½®
{
  "url": "https://example.com",
  "config": {
    "cookie": "user_cookie=logged_in",  // è¦†ç›–é»˜è®¤cookie
    "customCss": ".ad { display: none; }" // æ–°å¢é…ç½®
    // delayMsæœªè®¾ç½®ï¼Œä½¿ç”¨é»˜è®¤çš„3000
  }
}

// æœ€ç»ˆç”Ÿæ•ˆé…ç½®
{
  "cookie": "user_cookie=logged_in",     // âœ… ä½¿ç”¨per-URLé…ç½®
  "delayMs": 3000,                       // âœ… ä½¿ç”¨é»˜è®¤é…ç½®
  "customCss": ".ad { display: none; }"  // âœ… ä½¿ç”¨per-URLé…ç½®
}
```

---

## ğŸ“Š æ‰§è¡Œå†å²è¿½è¸ª

### è‡ªåŠ¨å…³è”

å½“è¿è¡Œæµ‹è¯•æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š

1. è®°å½•æ‰§è¡Œç»“æœåˆ° `test-records.json`
2. åœ¨æµ‹è¯•ç”¨ä¾‹çš„ `executionHistory` ä¸­æ·»åŠ æ‰§è¡Œè®°å½•ID
3. å…³è” `testCaseId` åˆ°æ‰§è¡Œè®°å½•

### æŸ¥è¯¢æ‰§è¡Œå†å²

```bash
# è·å–æµ‹è¯•ç”¨ä¾‹çš„æ‰€æœ‰æ‰§è¡Œè®°å½•
curl http://localhost:3000/api/testcases/{testCaseId}/executions

# å“åº”ç¤ºä¾‹
{
  "testCaseId": "testcase_1763696742129_r2w2gzpn",
  "testCaseName": "é¦–é¡µæ€§èƒ½æµ‹è¯•",
  "executions": [
    {
      "id": "task_1763696800000_xyz789",
      "testCaseId": "testcase_1763696742129_r2w2gzpn",
      "name": "é¦–é¡µæ€§èƒ½æµ‹è¯•",
      "runner": "Runtime",
      "status": "completed",
      "startTime": "2025-11-21T10:00:00.000Z",
      "endTime": "2025-11-21T10:05:30.000Z",
      "duration": 330000,
      "perfcatUrl": "https://fe-perfcat.bilibili.co/utils/shorten/abc123"
    }
  ],
  "total": 1
}
```

---

## ğŸ”Œ APIå‚è€ƒ

### æµ‹è¯•ç”¨ä¾‹ç®¡ç†

| æ–¹æ³• | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| `GET` | `/api/testcases` | è·å–æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ |
| `GET` | `/api/testcases/:id` | è·å–å•ä¸ªæµ‹è¯•ç”¨ä¾‹ |
| `POST` | `/api/testcases` | åˆ›å»ºæµ‹è¯•ç”¨ä¾‹ |
| `PUT` | `/api/testcases/:id` | æ›´æ–°æµ‹è¯•ç”¨ä¾‹ |
| `DELETE` | `/api/testcases/:id` | åˆ é™¤æµ‹è¯•ç”¨ä¾‹ |
| `GET` | `/api/testcases/:id/executions` | è·å–æ‰§è¡Œå†å² |

### æŸ¥è¯¢å‚æ•°

**GET /api/testcases**:
- `tags`: æŒ‰æ ‡ç­¾ç­›é€‰ï¼ˆé€—å·åˆ†éš”ï¼‰
- `search`: å…³é”®è¯æœç´¢ï¼ˆåç§°æˆ–æè¿°ï¼‰

ç¤ºä¾‹ï¼š
```bash
# æŸ¥è¯¢åŒ…å«"performance"æ ‡ç­¾çš„æµ‹è¯•ç”¨ä¾‹
curl "http://localhost:3000/api/testcases?tags=performance"

# æœç´¢åç§°ä¸­åŒ…å«"é¦–é¡µ"çš„æµ‹è¯•ç”¨ä¾‹
curl "http://localhost:3000/api/testcases?search=é¦–é¡µ"
```

---

## ğŸš€ å®æˆ˜ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šå¯¹æ¯”ä¸åŒCookieçš„æ€§èƒ½

åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œå¯¹æ¯”æ¸¸å®¢å’Œç™»å½•ç”¨æˆ·çš„é¦–é¡µåŠ è½½æ€§èƒ½ï¼š

```json
{
  "name": "é¦–é¡µæ€§èƒ½å¯¹æ¯”ï¼šæ¸¸å®¢ vs ç™»å½•ç”¨æˆ·",
  "runners": {
    "Initialization": { "enabled": true },
    "Runtime": { "enabled": true, "durationMs": 60000, "delayMs": 10000 }
  },
  "urlsWithDesc": [
    {
      "url": "https://www.bilibili.com",
      "description": "é¦–é¡µ - æ¸¸å®¢æ¨¡å¼",
      "config": {
        "cookie": ""
      }
    },
    {
      "url": "https://www.bilibili.com",
      "description": "é¦–é¡µ - æ™®é€šç”¨æˆ·",
      "config": {
        "cookie": "DedeUserID=123456; SESSDATA=normal_user_session"
      }
    },
    {
      "url": "https://www.bilibili.com",
      "description": "é¦–é¡µ - VIPç”¨æˆ·",
      "config": {
        "cookie": "DedeUserID=789012; SESSDATA=vip_user_session; vip_type=2"
      }
    }
  ],
  "mode": "headless",
  "repeatCount": 5,
  "tags": ["performance", "cookie-comparison"]
}
```

### ç¤ºä¾‹2ï¼šæµ‹è¯•å¹¿å‘Šå±è”½å¯¹æ€§èƒ½çš„å½±å“

```json
{
  "name": "å¹¿å‘Šå±è”½æ€§èƒ½æµ‹è¯•",
  "runners": {
    "Runtime": { "enabled": true, "durationMs": 60000, "delayMs": 10000 }
  },
  "urlsWithDesc": [
    {
      "url": "https://www.bilibili.com",
      "description": "æ­£å¸¸åŠ è½½ï¼ˆå«å¹¿å‘Šï¼‰"
    },
    {
      "url": "https://www.bilibili.com",
      "description": "å±è”½å¹¿å‘ŠCSS",
      "config": {
        "customCss": ".ad-container, .banner-ad, [class*='ad-'] { display: none !important; }"
      }
    },
    {
      "url": "https://www.bilibili.com",
      "description": "å±è”½å¹¿å‘Šè¯·æ±‚",
      "config": {
        "blockList": ["*/ad/*", "*/ads/*", "*.doubleclick.net/*"]
      }
    },
    {
      "url": "https://www.bilibili.com",
      "description": "å®Œå…¨å±è”½ï¼ˆCSS + è¯·æ±‚ï¼‰",
      "config": {
        "customCss": ".ad-container, .banner-ad { display: none !important; }",
        "blockList": ["*/ad/*", "*/ads/*"]
      }
    }
  ],
  "mode": "headless",
  "repeatCount": 3,
  "tags": ["performance", "ad-blocking"]
}
```

### ç¤ºä¾‹3ï¼šè·¨è®¾å¤‡æ€§èƒ½æµ‹è¯•

```json
{
  "name": "è·¨è®¾å¤‡æ€§èƒ½æµ‹è¯•",
  "runners": {
    "Initialization": { "enabled": true }
  },
  "urlsWithDesc": [
    {
      "url": "https://m.bilibili.com",
      "description": "ç§»åŠ¨ç«¯ - iPhone 13",
      "config": {
        "deviceOptions": ["Mobile", { "preset": "iphone13" }]
      }
    },
    {
      "url": "https://m.bilibili.com",
      "description": "ç§»åŠ¨ç«¯ - Android",
      "config": {
        "deviceOptions": ["Mobile", { "preset": "android" }]
      }
    },
    {
      "url": "https://www.bilibili.com",
      "description": "æ¡Œé¢ç«¯ - 1920x1080",
      "config": {
        "deviceOptions": ["Desktop", { "fullscreen": false }]
      }
    },
    {
      "url": "https://www.bilibili.com",
      "description": "æ¡Œé¢ç«¯ - å…¨å±",
      "config": {
        "deviceOptions": ["Desktop", { "fullscreen": true }]
      }
    }
  ],
  "mode": "headless",
  "repeatCount": 3,
  "tags": ["performance", "cross-device"]
}
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜1ï¼šæµ‹è¯•ç”¨ä¾‹æœªåŒæ­¥åˆ°æœåŠ¡å™¨

**ç—‡çŠ¶**ï¼šåˆ›å»ºçš„æµ‹è¯•ç”¨ä¾‹åªåœ¨æµè§ˆå™¨ä¸­å¯è§ï¼Œåˆ·æ–°åæ¶ˆå¤±

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š`curl http://localhost:3000/api/health`
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
3. æ‰‹åŠ¨è§¦å‘è¿ç§»ï¼šåˆ é™¤ `localStorage` ä¸­çš„ `migrated_to_backend` é”®ï¼Œç„¶ååˆ·æ–°é¡µé¢

### é—®é¢˜2ï¼šPer-URLé…ç½®æœªç”Ÿæ•ˆ

**ç—‡çŠ¶**ï¼šè®¾ç½®äº†per-URLé…ç½®ï¼Œä½†æ‰§è¡Œæ—¶æœªåº”ç”¨

**æ£€æŸ¥æ¸…å•**ï¼š
1. ç¡®è®¤é…ç½®æ ¼å¼æ­£ç¡®ï¼ˆJSONæœ‰æ•ˆï¼‰
2. ç¡®è®¤é…ç½®é¡¹åç§°æ‹¼å†™æ­£ç¡®
3. æŸ¥çœ‹åç«¯æ—¥å¿—ï¼Œç¡®è®¤é…ç½®è¢«æ­£ç¡®è§£æ
4. æŸ¥çœ‹ç”Ÿæˆçš„ `benchmark.config.*.mts` æ–‡ä»¶ï¼ŒéªŒè¯é…ç½®æ˜¯å¦è¢«æ­£ç¡®åˆå¹¶

**è°ƒè¯•æ–¹æ³•**ï¼š
```bash
# æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
tail -f server.log

# æ£€æŸ¥ç”Ÿæˆçš„é…ç½®æ–‡ä»¶
ls -lt benchmark.config.*.mts | head -1
cat <æœ€æ–°çš„é…ç½®æ–‡ä»¶>
```

### é—®é¢˜3ï¼šæ‰§è¡Œå†å²æœªå…³è”

**ç—‡çŠ¶**ï¼šè¿è¡Œæµ‹è¯•åï¼Œæµ‹è¯•ç”¨ä¾‹çš„æ‰§è¡Œå†å²ä¸ºç©º

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤æµ‹è¯•ç”¨ä¾‹IDæ˜¯æ–°æ ¼å¼ï¼ˆ`testcase_` å¼€å¤´ï¼‰
2. æ—§æ ¼å¼IDçš„æµ‹è¯•ç”¨ä¾‹ä¸ä¼šè‡ªåŠ¨å…³è”ï¼Œéœ€è¦é‡æ–°åˆ›å»º

---

## ğŸ“– æœ€ä½³å®è·µ

### 1. æµ‹è¯•ç”¨ä¾‹å‘½å

ä½¿ç”¨æ¸…æ™°çš„å‘½åçº¦å®šï¼š

- âœ… `é¦–é¡µæ€§èƒ½ - æ¸¸å®¢ vs ç™»å½•`
- âœ… `è§†é¢‘é¡µ - ä¸åŒè®¾å¤‡å¯¹æ¯”`
- âŒ `test1`
- âŒ `æ€§èƒ½æµ‹è¯•`

### 2. URLæè¿°

ä¸ºæ¯ä¸ªURLæä¾›æœ‰æ„ä¹‰çš„æè¿°ï¼š

- âœ… `é¦–é¡µ - å·²ç™»å½• - VIPç”¨æˆ·`
- âœ… `è§†é¢‘é¡µ - å±è”½å¹¿å‘Š - ç§»åŠ¨ç«¯`
- âŒ `æµ‹è¯•é¡µé¢`
- âŒ `page1`

### 3. æ ‡ç­¾ä½¿ç”¨

ä½¿ç”¨æ ‡ç­¾åˆ†ç±»æµ‹è¯•ç”¨ä¾‹ï¼š

```json
{
  "tags": ["performance", "homepage", "login-comparison", "v2.0"]
}
```

å¸¸ç”¨æ ‡ç­¾ï¼š
- `performance` - æ€§èƒ½æµ‹è¯•
- `comparison` - å¯¹æ¯”æµ‹è¯•
- `baseline` - åŸºçº¿æµ‹è¯•
- `regression` - å›å½’æµ‹è¯•
- `experiment` - å®éªŒæ€§æµ‹è¯•

### 4. é…ç½®å¤ç”¨

å¯¹äºå¸¸ç”¨é…ç½®ï¼Œå¯ä»¥å®šä¹‰é¢„è®¾ï¼š

```javascript
// å¸¸ç”¨Cookieé¢„è®¾
const COOKIES = {
  guest: "",
  normalUser: "DedeUserID=123; SESSDATA=xxx",
  vipUser: "DedeUserID=456; SESSDATA=yyy; vip_type=2"
};

// ä½¿ç”¨æ—¶å¼•ç”¨
{
  "config": {
    "cookie": COOKIES.vipUser
  }
}
```

---

## ğŸ¨ Webç•Œé¢åŠŸèƒ½

### Per-URLé…ç½®é¢æ¿ç‰¹æ€§

#### å¯è§†åŒ–æŒ‡ç¤º
- **ç»¿è‰²è¾¹æ¡†**ï¼šè¡¨ç¤ºè¯¥URLæœ‰è‡ªå®šä¹‰é…ç½®
- **"âœ“ å·²é…ç½®"å¾½ç« **ï¼šå¿«é€Ÿè¯†åˆ«å·²é…ç½®çš„URL
- **å±•å¼€/æ”¶èµ·**ï¼šç‚¹å‡»"â–¼ ç‹¬ç«‹é…ç½®"åˆ‡æ¢é¢æ¿æ˜¾ç¤º

#### é…ç½®ç¼–è¾‘å™¨
| é…ç½®é¡¹ | UIç±»å‹ | åŠŸèƒ½ |
|--------|--------|------|
| Cookie | æ–‡æœ¬åŸŸ | è¾“å…¥Cookieå­—ç¬¦ä¸²ï¼Œè¦†ç›–é»˜è®¤Cookie |
| é¡µé¢å»¶è¿Ÿ | æ•°å­—è¾“å…¥ | è®¾ç½®é¡µé¢åŠ è½½å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰ |
| HTTP Headers | JSONç¼–è¾‘å™¨ | å®æ—¶éªŒè¯JSONæ ¼å¼ï¼Œé”™è¯¯æ—¶è¾¹æ¡†å˜çº¢ |
| è‡ªå®šä¹‰CSS | æ–‡æœ¬åŸŸ | è¾“å…¥CSSä»£ç ï¼ˆæ”¯æŒè¯­æ³•é«˜äº®ï¼‰ |
| èµ„æºé˜»æ­¢åˆ—è¡¨ | JSONç¼–è¾‘å™¨ | å®æ—¶éªŒè¯æ•°ç»„æ ¼å¼ï¼Œæ”¯æŒé€šé…ç¬¦ |

#### é…ç½®ç»§æ‰¿æç¤º
æ¯ä¸ªé…ç½®é¢æ¿åº•éƒ¨éƒ½æœ‰æç¤ºä¿¡æ¯ï¼š
```
ğŸ’¡ æç¤ºï¼šæ­¤URLçš„ç‹¬ç«‹é…ç½®ä¼šè¦†ç›–æµ‹è¯•ç”¨ä¾‹çš„é»˜è®¤é…ç½®ã€‚ç•™ç©ºè¡¨ç¤ºä½¿ç”¨é»˜è®¤é…ç½®ã€‚
```

#### å®æ—¶éªŒè¯
- **JSONå­—æ®µ**ï¼šè¾“å…¥æ—¶è‡ªåŠ¨éªŒè¯æ ¼å¼
- **æœ‰æ•ˆæ ¼å¼**ï¼šè¾¹æ¡†æ˜¾ç¤ºä¸ºç°è‰² (`#cbd5e0`)
- **æ— æ•ˆæ ¼å¼**ï¼šè¾¹æ¡†æ˜¾ç¤ºä¸ºçº¢è‰² (`#fc8181`)

### åˆ›å»ºæµ‹è¯•ç”¨ä¾‹æµç¨‹

```
1. ç‚¹å‡»"â• æ·»åŠ æµ‹è¯•ç”¨ä¾‹"
   â†“
2. å¡«å†™åŸºæœ¬ä¿¡æ¯
   - æµ‹è¯•ç”¨ä¾‹åç§°
   - é€‰æ‹©Runnerç±»å‹
   - è®¾ç½®é‡å¤æ¬¡æ•°ç­‰
   â†“
3. æ·»åŠ URL
   - ç‚¹å‡»"â• æ·»åŠ URL"
   - è¾“å…¥URLåœ°å€
   - è¾“å…¥URLæè¿°
   â†“
4. é…ç½®per-URLè®¾ç½®ï¼ˆå¯é€‰ï¼‰
   - ç‚¹å‡»"â–¼ ç‹¬ç«‹é…ç½®"å±•å¼€é¢æ¿
   - æ ¹æ®éœ€è¦é…ç½®å„é¡¹
   - ç•™ç©ºçš„é¡¹ä½¿ç”¨é»˜è®¤é…ç½®
   â†“
5. è®¾ç½®é«˜çº§é…ç½®ï¼ˆæµ‹è¯•ç”¨ä¾‹çº§åˆ«é»˜è®¤é…ç½®ï¼‰
   - Cookieé…ç½®
   - å»¶è¿Ÿè®¾ç½®
   - Headersã€BlockListç­‰
   â†“
6. ä¿å­˜
   - ç‚¹å‡»"ä¿å­˜"æŒ‰é’®
   - è‡ªåŠ¨åŒæ­¥åˆ°æœåŠ¡å™¨
   - å¯ç«‹å³è¿è¡Œæµ‹è¯•
```

---

## ğŸ¯ æ€»ç»“

æœ¬æ¬¡æ›´æ–°å¸¦æ¥äº†å¼ºå¤§çš„æµ‹è¯•ç”¨ä¾‹ç®¡ç†å’Œçµæ´»çš„per-URLé…ç½®åŠŸèƒ½ï¼š

âœ… **æ•°æ®æŒä¹…åŒ–** - æµ‹è¯•ç”¨ä¾‹å®‰å…¨å­˜å‚¨åœ¨æœåŠ¡å™¨
âœ… **æ‰§è¡Œå†å²** - è‡ªåŠ¨è¿½è¸ªæ¯æ¬¡æ‰§è¡Œè®°å½•
âœ… **çµæ´»é…ç½®** - æ¯ä¸ªURLå¯ç‹¬ç«‹é…ç½®
âœ… **å¯è§†åŒ–UI** - ç›´è§‚çš„Webç•Œé¢é…ç½®per-URLè®¾ç½®
âœ… **å®æ—¶éªŒè¯** - JSONæ ¼å¼è‡ªåŠ¨éªŒè¯ï¼Œé¿å…é…ç½®é”™è¯¯
âœ… **å‘åå…¼å®¹** - å…¼å®¹æ—§æ•°æ®æ ¼å¼
âœ… **è‡ªåŠ¨è¿ç§»** - æ— ç¼è¿ç§»æœ¬åœ°æ•°æ®åˆ°æœåŠ¡å™¨

ç°åœ¨ä½ å¯ä»¥æ›´é«˜æ•ˆåœ°ç®¡ç†å’Œæ‰§è¡Œæ€§èƒ½æµ‹è¯•ï¼

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0
**æœ€åæ›´æ–°**: 2025-11-21
