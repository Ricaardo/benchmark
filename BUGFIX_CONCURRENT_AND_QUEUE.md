# ğŸ”§ å¹¶å‘æ‰§è¡Œå’Œé˜Ÿåˆ—è‡ªåŠ¨æ‰§è¡Œä¿®å¤

## ğŸ“‹ é—®é¢˜æè¿°

ç”¨æˆ·åé¦ˆäº†ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼š

### é—®é¢˜ 1: ä¸èƒ½å¹¶å‘æ‰§è¡Œ
- **ç°è±¡**: å³ä½¿å¹¶å‘é™åˆ¶æ˜¯ 3ï¼Œä½†ä»»åŠ¡ä¼¼ä¹åªèƒ½ä¸²è¡Œæ‰§è¡Œ
- **æœŸæœ›**: åº”è¯¥åŒæ—¶è¿è¡Œå¤šä¸ªä»»åŠ¡ï¼Œæœ€å¤š 3 ä¸ªå¹¶å‘

### é—®é¢˜ 2: é˜Ÿåˆ—æ²¡æœ‰è‡ªåŠ¨æ‰§è¡Œ
- **ç°è±¡**: å½“ä¸€ä¸ªä»»åŠ¡å®Œæˆåï¼Œpending çŠ¶æ€çš„ä»»åŠ¡æ²¡æœ‰è‡ªåŠ¨å¯åŠ¨
- **æœŸæœ›**: ä»»åŠ¡å®Œæˆååº”è¯¥è‡ªåŠ¨å¯åŠ¨ä¸‹ä¸€ä¸ªç­‰å¾…çš„ä»»åŠ¡

---

## ğŸ” æ ¹æœ¬åŸå› åˆ†æ

### åŸå›  1: `startNextPendingTask()` åªå¯åŠ¨ä¸€ä¸ªä»»åŠ¡

**æ—§ä»£ç é€»è¾‘:**
```typescript
// server/index.ts:322-329 (ä¿®å¤å‰)
function startNextPendingTask() {
    if (getRunningTasksCount() >= MAX_CONCURRENT_TASKS) return;

    const pendingTask = Array.from(tasks.values()).find(t => t.status === 'pending');
    if (pendingTask) {
        setTimeout(() => startTask(pendingTask.id), 1000);
    }
}
```

**é—®é¢˜:**
- åªæ‰¾åˆ°**ä¸€ä¸ª** pending ä»»åŠ¡å¹¶å¯åŠ¨
- å¦‚æœæœ‰å¤šä¸ªå¹¶å‘ç©ºä½ï¼Œä¸ä¼šå¡«æ»¡

**åœºæ™¯ç¤ºä¾‹:**
```
å¹¶å‘é™åˆ¶: 3
ä»»åŠ¡ A (running)  â† æ­£åœ¨è¿è¡Œ
ä»»åŠ¡ B (pending)  â† ç­‰å¾…ä¸­
ä»»åŠ¡ C (pending)  â† ç­‰å¾…ä¸­

å½“ä»»åŠ¡ A å®Œæˆå:
- æ—§ä»£ç : åªå¯åŠ¨ä»»åŠ¡ B
- ç»“æœ: åªæœ‰ 1 ä¸ªä»»åŠ¡åœ¨è¿è¡Œ (åº”è¯¥å¯åŠ¨ B å’Œ C å¡«æ»¡ 2 ä¸ªç©ºä½)
```

---

### åŸå›  2: æ²¡æœ‰å……åˆ†åˆ©ç”¨å¹¶å‘ç©ºä½

**åœºæ™¯:**
```
å¹¶å‘é™åˆ¶: 3
å½“å‰è¿è¡Œ: 0

ç”¨æˆ·å¿«é€Ÿç‚¹å‡» 5 ä¸ªä»»åŠ¡:
- ä»»åŠ¡ 1: åˆ›å»º â†’ å¯åŠ¨æˆåŠŸ â†’ running
- ä»»åŠ¡ 2: åˆ›å»º â†’ å¯åŠ¨æˆåŠŸ â†’ running
- ä»»åŠ¡ 3: åˆ›å»º â†’ å¯åŠ¨æˆåŠŸ â†’ running
- ä»»åŠ¡ 4: åˆ›å»º â†’ å¹¶å‘æ»¡äº† â†’ pending
- ä»»åŠ¡ 5: åˆ›å»º â†’ å¹¶å‘æ»¡äº† â†’ pending

ä»»åŠ¡ 1 å®Œæˆ:
- æ—§ä»£ç : å¯åŠ¨ä»»åŠ¡ 4
- æ­¤æ—¶è¿è¡Œä¸­: ä»»åŠ¡ 2, 3, 4 (å…± 3 ä¸ª) âœ“

ä»»åŠ¡ 2 å®Œæˆ:
- æ—§ä»£ç : å¯åŠ¨ä»»åŠ¡ 5
- æ­¤æ—¶è¿è¡Œä¸­: ä»»åŠ¡ 3, 4, 5 (å…± 3 ä¸ª) âœ“
```

**çœ‹èµ·æ¥æ²¡é—®é¢˜ï¼Œä½†å¦‚æœåŒæ—¶å®Œæˆ 2 ä¸ªä»»åŠ¡å‘¢ï¼Ÿ**

```
ä»»åŠ¡ 2 å’Œä»»åŠ¡ 3 åŒæ—¶å®Œæˆ:
- æ—§ä»£ç : åªè°ƒç”¨ä¸€æ¬¡ startNextPendingTask()
- åªå¯åŠ¨ä»»åŠ¡ 5
- æ­¤æ—¶è¿è¡Œä¸­: ä»»åŠ¡ 4, 5 (å…± 2 ä¸ª) âŒ åº”è¯¥å¡«æ»¡ 3 ä¸ªç©ºä½ï¼
```

---

## âœ… ä¿®å¤æ–¹æ¡ˆ

### ä¿®å¤ 1: æ”¹è¿› `startNextPendingTask()` å¡«æ»¡æ‰€æœ‰å¹¶å‘ç©ºä½

```typescript
// server/index.ts:321-346 (ä¿®å¤å)
function startNextPendingTask() {
    // è·å–æ‰€æœ‰å¾…æ‰§è¡Œçš„ä»»åŠ¡
    const pendingTasks = Array.from(tasks.values())
        .filter(t => t.status === 'pending')
        .sort((a, b) => a.startTime.getTime() - b.startTime.getTime()); // æŒ‰åˆ›å»ºæ—¶é—´æ’åº

    // è®¡ç®—è¿˜èƒ½å¯åŠ¨å¤šå°‘ä»»åŠ¡
    const availableSlots = MAX_CONCURRENT_TASKS - getRunningTasksCount();

    if (availableSlots <= 0 || pendingTasks.length === 0) {
        return;
    }

    // å¯åŠ¨å¤šä¸ªä»»åŠ¡å¡«æ»¡ç©ºä½
    const tasksToStart = pendingTasks.slice(0, availableSlots);

    console.log(`[TaskManager] å¯åŠ¨ ${tasksToStart.length} ä¸ªå¾…æ‰§è¡Œä»»åŠ¡ (å¯ç”¨ç©ºä½: ${availableSlots})`);

    tasksToStart.forEach((task, index) => {
        // å»¶è¿Ÿå¯åŠ¨ï¼Œé¿å…åŒæ—¶å¯åŠ¨å¯¼è‡´èµ„æºç«äº‰
        setTimeout(() => {
            startTask(task.id);
        }, index * 500); // æ¯ä¸ªä»»åŠ¡é—´éš”500mså¯åŠ¨
    });
}
```

**æ”¹è¿›ç‚¹:**
1. âœ… **è·å–æ‰€æœ‰ pending ä»»åŠ¡** - ä¸å†åªæ‰¾ä¸€ä¸ª
2. âœ… **æŒ‰åˆ›å»ºæ—¶é—´æ’åº** - FIFO (å…ˆè¿›å…ˆå‡º) ç­–ç•¥
3. âœ… **è®¡ç®—å¯ç”¨ç©ºä½** - `availableSlots = MAX - running`
4. âœ… **å¡«æ»¡æ‰€æœ‰ç©ºä½** - `slice(0, availableSlots)`
5. âœ… **å»¶è¿Ÿå¯åŠ¨** - æ¯ä¸ªä»»åŠ¡é—´éš” 500msï¼Œé¿å…èµ„æºç«äº‰

---

### ä¿®å¤ 2: æ·»åŠ è¯¦ç»†çš„æ—¥å¿—ç›‘æ§

#### ä»»åŠ¡åˆ›å»ºæ—¶:
```typescript
// server/index.ts:221-224
const runningCount = getRunningTasksCount();
const pendingCount = Array.from(tasks.values()).filter(t => t.status === 'pending').length;
console.log(`[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ${name} (ID: ${taskId})`);
console.log(`[TaskManager] å½“å‰çŠ¶æ€ - è¿è¡Œä¸­: ${runningCount}/${MAX_CONCURRENT_TASKS}, ç­‰å¾…ä¸­: ${pendingCount}`);
```

#### ä»»åŠ¡å¯åŠ¨æ—¶:
```typescript
// server/index.ts:234-241
if (!task) {
    console.log(`[TaskManager] âŒ ä»»åŠ¡ä¸å­˜åœ¨: ${taskId}`);
    return;
}

if (task.status !== 'pending') {
    console.log(`[TaskManager] âš ï¸ ä»»åŠ¡çŠ¶æ€ä¸æ˜¯ pending: ${task.name} (çŠ¶æ€: ${task.status})`);
    return;
}

// server/index.ts:245-249
const runningCount = getRunningTasksCount();
if (runningCount >= MAX_CONCURRENT_TASKS) {
    console.log(`[TaskManager] â³ å¹¶å‘å·²æ»¡ï¼Œä»»åŠ¡ç­‰å¾…: ${task.name} (${runningCount}/${MAX_CONCURRENT_TASKS})`);
    appendTaskOutput(taskId, `[ç³»ç»Ÿ] ç­‰å¾…å…¶ä»–ä»»åŠ¡å®Œæˆ...(å½“å‰å¹¶å‘: ${runningCount}/${MAX_CONCURRENT_TASKS})\n`);
    return;
}

// server/index.ts:252-253
task.status = 'running';
console.log(`[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ${task.name} (${runningCount + 1}/${MAX_CONCURRENT_TASKS})`);
```

#### ä»»åŠ¡å®Œæˆæ—¶:
```typescript
// server/index.ts:280-281
const statusEmoji = code === 0 ? 'âœ…' : 'âŒ';
console.log(`[TaskManager] ${statusEmoji} ä»»åŠ¡${code === 0 ? 'å®Œæˆ' : 'å¤±è´¥'}: ${task.name} (é€€å‡ºç : ${code})`);

// server/index.ts:310-311
const pendingCount = Array.from(tasks.values()).filter(t => t.status === 'pending').length;
console.log(`[TaskManager] ğŸ”„ æ£€æŸ¥å¾…æ‰§è¡Œä»»åŠ¡... (ç­‰å¾…ä¸­: ${pendingCount})`);
```

---

## ğŸ“Š ä¿®å¤æ•ˆæœ

### åœºæ™¯ 1: è¿ç»­åˆ›å»º 5 ä¸ªä»»åŠ¡

**ä¿®å¤å‰:**
```
[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ä»»åŠ¡1
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡1 (1/3)
[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ä»»åŠ¡2
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡2 (2/3)
[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ä»»åŠ¡3
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡3 (3/3)
[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ä»»åŠ¡4
[TaskManager] â³ å¹¶å‘å·²æ»¡ï¼Œä»»åŠ¡ç­‰å¾…: ä»»åŠ¡4 (3/3)
[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ä»»åŠ¡5
[TaskManager] â³ å¹¶å‘å·²æ»¡ï¼Œä»»åŠ¡ç­‰å¾…: ä»»åŠ¡5 (3/3)

[TaskManager] âœ… ä»»åŠ¡å®Œæˆ: ä»»åŠ¡1
[TaskManager] ğŸ”„ æ£€æŸ¥å¾…æ‰§è¡Œä»»åŠ¡... (ç­‰å¾…ä¸­: 2)
[TaskManager] å¯åŠ¨ 1 ä¸ªå¾…æ‰§è¡Œä»»åŠ¡ (å¯ç”¨ç©ºä½: 1) â† âŒ åªå¯åŠ¨ 1 ä¸ª
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡4 (3/3)
```

**ä¿®å¤å:**
```
[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ä»»åŠ¡1
[TaskManager] å½“å‰çŠ¶æ€ - è¿è¡Œä¸­: 0/3, ç­‰å¾…ä¸­: 1
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡1 (1/3)

[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ä»»åŠ¡2
[TaskManager] å½“å‰çŠ¶æ€ - è¿è¡Œä¸­: 1/3, ç­‰å¾…ä¸­: 1
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡2 (2/3)

[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ä»»åŠ¡3
[TaskManager] å½“å‰çŠ¶æ€ - è¿è¡Œä¸­: 2/3, ç­‰å¾…ä¸­: 1
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡3 (3/3)

[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ä»»åŠ¡4
[TaskManager] å½“å‰çŠ¶æ€ - è¿è¡Œä¸­: 3/3, ç­‰å¾…ä¸­: 1
[TaskManager] â³ å¹¶å‘å·²æ»¡ï¼Œä»»åŠ¡ç­‰å¾…: ä»»åŠ¡4 (3/3)

[TaskManager] ä»»åŠ¡å·²åˆ›å»º: ä»»åŠ¡5
[TaskManager] å½“å‰çŠ¶æ€ - è¿è¡Œä¸­: 3/3, ç­‰å¾…ä¸­: 2
[TaskManager] â³ å¹¶å‘å·²æ»¡ï¼Œä»»åŠ¡ç­‰å¾…: ä»»åŠ¡5 (3/3)

[TaskManager] âœ… ä»»åŠ¡å®Œæˆ: ä»»åŠ¡1
[TaskManager] ğŸ”„ æ£€æŸ¥å¾…æ‰§è¡Œä»»åŠ¡... (ç­‰å¾…ä¸­: 2)
[TaskManager] å¯åŠ¨ 1 ä¸ªå¾…æ‰§è¡Œä»»åŠ¡ (å¯ç”¨ç©ºä½: 1) â† âœ… å¡«æ»¡ç©ºä½
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡4 (3/3)

[TaskManager] âœ… ä»»åŠ¡å®Œæˆ: ä»»åŠ¡2
[TaskManager] ğŸ”„ æ£€æŸ¥å¾…æ‰§è¡Œä»»åŠ¡... (ç­‰å¾…ä¸­: 1)
[TaskManager] å¯åŠ¨ 1 ä¸ªå¾…æ‰§è¡Œä»»åŠ¡ (å¯ç”¨ç©ºä½: 1)
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡5 (3/3)
```

---

### åœºæ™¯ 2: ä¸¤ä¸ªä»»åŠ¡åŒæ—¶å®Œæˆ

**ä¿®å¤å‰:**
```
ä»»åŠ¡ 1, 2 åŒæ—¶å®Œæˆ:
[TaskManager] âœ… ä»»åŠ¡å®Œæˆ: ä»»åŠ¡1
[TaskManager] å¯åŠ¨ 1 ä¸ªå¾…æ‰§è¡Œä»»åŠ¡ (å¯ç”¨ç©ºä½: 2) â† âŒ åªå¯åŠ¨ 1 ä¸ª
[TaskManager] âœ… ä»»åŠ¡å®Œæˆ: ä»»åŠ¡2
[TaskManager] å¯åŠ¨ 1 ä¸ªå¾…æ‰§è¡Œä»»åŠ¡ (å¯ç”¨ç©ºä½: 1)

ç»“æœ: è¿è¡Œä¸­åªæœ‰ 2 ä¸ªä»»åŠ¡ âŒ
```

**ä¿®å¤å:**
```
ä»»åŠ¡ 1 å®Œæˆ:
[TaskManager] âœ… ä»»åŠ¡å®Œæˆ: ä»»åŠ¡1
[TaskManager] ğŸ”„ æ£€æŸ¥å¾…æ‰§è¡Œä»»åŠ¡... (ç­‰å¾…ä¸­: 2)
[TaskManager] å¯åŠ¨ 1 ä¸ªå¾…æ‰§è¡Œä»»åŠ¡ (å¯ç”¨ç©ºä½: 1) â† âœ… å¡«æ»¡ 1 ä¸ªç©ºä½
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡4 (3/3)

ä»»åŠ¡ 2 å®Œæˆ:
[TaskManager] âœ… ä»»åŠ¡å®Œæˆ: ä»»åŠ¡2
[TaskManager] ğŸ”„ æ£€æŸ¥å¾…æ‰§è¡Œä»»åŠ¡... (ç­‰å¾…ä¸­: 1)
[TaskManager] å¯åŠ¨ 1 ä¸ªå¾…æ‰§è¡Œä»»åŠ¡ (å¯ç”¨ç©ºä½: 1) â† âœ… å¡«æ»¡ 1 ä¸ªç©ºä½
[TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ä»»åŠ¡5 (3/3)

ç»“æœ: è¿è¡Œä¸­å§‹ç»ˆä¿æŒ 3 ä¸ªä»»åŠ¡ âœ…
```

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯• 1: å¹¶å‘æ‰§è¡Œ

```bash
# 1. å¯åŠ¨æœåŠ¡å™¨
npm run dev

# 2. è§‚å¯ŸæœåŠ¡å™¨æ—¥å¿—ï¼Œæ‰“å¼€æµè§ˆå™¨
open http://localhost:3000

# 3. ç‚¹å‡»"âš¡ åŠ è½½é¢„è®¾" - åŠ è½½ 8 ä¸ªç¤ºä¾‹
# 4. å…¨é€‰æ‰€æœ‰ç”¨ä¾‹
# 5. ç‚¹å‡»"â–¶ è¿è¡Œé€‰ä¸­"

# é¢„æœŸæ—¥å¿—:
# [TaskManager] ä»»åŠ¡å·²åˆ›å»º: ç¤ºä¾‹1...
# [TaskManager] å½“å‰çŠ¶æ€ - è¿è¡Œä¸­: 0/3, ç­‰å¾…ä¸­: 1
# [TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ç¤ºä¾‹1 (1/3)
# [TaskManager] ä»»åŠ¡å·²åˆ›å»º: ç¤ºä¾‹2...
# [TaskManager] å½“å‰çŠ¶æ€ - è¿è¡Œä¸­: 1/3, ç­‰å¾…ä¸­: 1
# [TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ç¤ºä¾‹2 (2/3)
# [TaskManager] ä»»åŠ¡å·²åˆ›å»º: ç¤ºä¾‹3...
# [TaskManager] å½“å‰çŠ¶æ€ - è¿è¡Œä¸­: 2/3, ç­‰å¾…ä¸­: 1
# [TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ç¤ºä¾‹3 (3/3)
# [TaskManager] ä»»åŠ¡å·²åˆ›å»º: ç¤ºä¾‹4...
# [TaskManager] å½“å‰çŠ¶æ€ - è¿è¡Œä¸­: 3/3, ç­‰å¾…ä¸­: 1
# [TaskManager] â³ å¹¶å‘å·²æ»¡ï¼Œä»»åŠ¡ç­‰å¾…: ç¤ºä¾‹4 (3/3)
# ...
```

**éªŒè¯ç‚¹:**
- âœ… åŒæ—¶è¿è¡Œ 3 ä¸ªä»»åŠ¡
- âœ… åç»­ä»»åŠ¡å¤„äº pending çŠ¶æ€
- âœ… æ—¥å¿—æ¸…æ™°æ˜¾ç¤ºå¹¶å‘çŠ¶æ€

---

### æµ‹è¯• 2: è‡ªåŠ¨é˜Ÿåˆ—æ‰§è¡Œ

```bash
# è§‚å¯ŸæœåŠ¡å™¨æ—¥å¿—ï¼Œç­‰å¾…ç¬¬ä¸€ä¸ªä»»åŠ¡å®Œæˆ

# é¢„æœŸæ—¥å¿—:
# [TaskManager] âœ… ä»»åŠ¡å®Œæˆ: ç¤ºä¾‹1
# [TaskManager] ğŸ”„ æ£€æŸ¥å¾…æ‰§è¡Œä»»åŠ¡... (ç­‰å¾…ä¸­: 5)
# [TaskManager] å¯åŠ¨ 1 ä¸ªå¾…æ‰§è¡Œä»»åŠ¡ (å¯ç”¨ç©ºä½: 1)
# [TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ç¤ºä¾‹4 (3/3)

# å†ç­‰å¾…ä¸€ä¸ªä»»åŠ¡å®Œæˆ:
# [TaskManager] âœ… ä»»åŠ¡å®Œæˆ: ç¤ºä¾‹2
# [TaskManager] ğŸ”„ æ£€æŸ¥å¾…æ‰§è¡Œä»»åŠ¡... (ç­‰å¾…ä¸­: 4)
# [TaskManager] å¯åŠ¨ 1 ä¸ªå¾…æ‰§è¡Œä»»åŠ¡ (å¯ç”¨ç©ºä½: 1)
# [TaskManager] â–¶ï¸ å¯åŠ¨ä»»åŠ¡: ç¤ºä¾‹5 (3/3)
```

**éªŒè¯ç‚¹:**
- âœ… ä»»åŠ¡å®Œæˆåè‡ªåŠ¨å¯åŠ¨ä¸‹ä¸€ä¸ª
- âœ… å§‹ç»ˆä¿æŒ 3 ä¸ªä»»åŠ¡å¹¶å‘è¿è¡Œ
- âœ… æŒ‰ FIFO é¡ºåºæ‰§è¡Œ

---

### æµ‹è¯• 3: API æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€

```bash
# æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡
curl http://localhost:3000/api/tasks | jq '.'

# é¢„æœŸè¾“å‡º:
{
  "tasks": [
    {
      "id": "task_...",
      "name": "ç¤ºä¾‹1...",
      "runner": "Initialization",
      "status": "completed",
      "startTime": "...",
      "endTime": "...",
      "outputLength": 1234
    },
    {
      "id": "task_...",
      "name": "ç¤ºä¾‹2...",
      "runner": "Runtime",
      "status": "running",
      ...
    },
    {
      "id": "task_...",
      "name": "ç¤ºä¾‹4...",
      "runner": "MemoryLeak",
      "status": "pending",
      ...
    }
  ],
  "runningCount": 3,
  "maxConcurrent": 3
}
```

---

## ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶

### `server/index.ts`

**ä¿®æ”¹ä½ç½® 1:** 204-228 è¡Œ - `createTask()` å‡½æ•°
- æ·»åŠ æ—¥å¿—è¾“å‡º
- æ˜¾ç¤ºå½“å‰è¿è¡Œå’Œç­‰å¾…ä»»åŠ¡æ•°

**ä¿®æ”¹ä½ç½® 2:** 231-255 è¡Œ - `startTask()` å‡½æ•°
- æ·»åŠ è¯¦ç»†æ—¥å¿—
- æ˜¾ç¤ºä»»åŠ¡çŠ¶æ€å’Œå¹¶å‘æƒ…å†µ

**ä¿®æ”¹ä½ç½® 3:** 275-313 è¡Œ - `process.on('close')` å›è°ƒ
- æ·»åŠ ä»»åŠ¡å®Œæˆæ—¥å¿—
- æ˜¾ç¤ºå¾…æ‰§è¡Œä»»åŠ¡æ•°é‡

**ä¿®æ”¹ä½ç½® 4:** 321-346 è¡Œ - `startNextPendingTask()` å‡½æ•°
- **æ ¸å¿ƒä¿®å¤**: å¯åŠ¨å¤šä¸ªä»»åŠ¡å¡«æ»¡å¹¶å‘ç©ºä½
- æŒ‰åˆ›å»ºæ—¶é—´æ’åº (FIFO)
- å»¶è¿Ÿå¯åŠ¨é¿å…èµ„æºç«äº‰

---

## ğŸ¯ æ€»ç»“

### ä¿®å¤çš„é—®é¢˜
1. âœ… **å¹¶å‘æ‰§è¡Œ** - ç°åœ¨å¯ä»¥åŒæ—¶è¿è¡Œæœ€å¤š 3 ä¸ªä»»åŠ¡
2. âœ… **é˜Ÿåˆ—è‡ªåŠ¨æ‰§è¡Œ** - ä»»åŠ¡å®Œæˆåè‡ªåŠ¨å¯åŠ¨å¾…æ‰§è¡Œä»»åŠ¡
3. âœ… **å¡«æ»¡å¹¶å‘ç©ºä½** - å……åˆ†åˆ©ç”¨æ‰€æœ‰å¯ç”¨çš„å¹¶å‘èµ„æº
4. âœ… **FIFO ç­–ç•¥** - æŒ‰åˆ›å»ºæ—¶é—´é¡ºåºæ‰§è¡Œä»»åŠ¡

### å¢å¼ºåŠŸèƒ½
1. âœ… **è¯¦ç»†æ—¥å¿—** - æ¸…æ™°æ˜¾ç¤ºä»»åŠ¡çŠ¶æ€å’Œå¹¶å‘æƒ…å†µ
2. âœ… **å»¶è¿Ÿå¯åŠ¨** - é¿å…åŒæ—¶å¯åŠ¨å¤šä¸ªä»»åŠ¡å¯¼è‡´èµ„æºç«äº‰
3. âœ… **çŠ¶æ€ç›‘æ§** - å®æ—¶æ˜¾ç¤ºè¿è¡Œå’Œç­‰å¾…ä»»åŠ¡æ•°

### å½±å“
- âœ… æå‡ä»»åŠ¡æ‰§è¡Œæ•ˆç‡
- âœ… æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ
- âœ… æ›´å®¹æ˜“è°ƒè¯•å’Œç›‘æ§
- âœ… å……åˆ†åˆ©ç”¨ç³»ç»Ÿèµ„æº

**ä¿®å¤å®Œæˆï¼** ğŸ‰
